# Core app
LOG_LEVEL=INFO
INGESTION_BACKEND=r2
DRIVE_INBOX_FOLDER_ID=

# Google authentication mode: service_account or oauth
# Required when INGESTION_BACKEND=drive or LEDGER_BACKEND=sheets
GOOGLE_AUTH_MODE=service_account

# Service account mode
GOOGLE_SERVICE_ACCOUNT_FILE=secrets/service-account.json

# OAuth mode
GOOGLE_OAUTH_CLIENT_SECRET_FILE=secrets/oauth-client-secret.json
GOOGLE_OAUTH_TOKEN_FILE=.tokens/google_token.json

# Optional override
ALLOWED_MIME_TYPES=image/jpeg,image/png,application/pdf

# Ingestion (Cloudflare R2)
R2_ENDPOINT_URL=https://<account_id>.r2.cloudflarestorage.com
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET_NAME=
R2_INBOX_PREFIX=inbox/
R2_ARCHIVE_PREFIX=archive/

# Storage backend: sheets or postgres
LEDGER_BACKEND=postgres

# Storage (Google Sheets)
LEDGER_SPREADSHEET_ID=
LEDGER_RANGE=Ledger!A:Z

# Storage (PostgreSQL)
POSTGRES_DSN=postgresql://user:password@host:5432/dbname
POSTGRES_TABLE=ledger_records

# Extraction provider settings
# Use `auto` for fallback chain in EXTRACTION_PROVIDER_ORDER
EXTRACTION_PROVIDER=auto
EXTRACTION_MODEL=auto
EXTRACTION_PROVIDER_ORDER=mistral,openrouter,groq

# Provider models
MISTRAL_MODEL=pixtral-large-latest
OPENROUTER_MODEL=mistralai/pixtral-12b
GROQ_MODEL=meta-llama/llama-4-scout-17b-16e-instruct
OPENAI_MODEL=gpt-4o-mini
GEMINI_MODEL=gemini-1.5-pro

# Provider API keys
MISTRAL_API_KEY=
OPENROUTER_API_KEY=
GROQ_API_KEY=
OPENAI_API_KEY=
GEMINI_API_KEY=
